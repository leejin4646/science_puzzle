<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>5학년 1학기 과학 가로세로 퍼즐</title>
<style>
    body {
        font-family: 'Nanum Gothic', sans-serif;
        text-align: center;
        background: url('https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAxNzA5MDZfMyAg%2FMDAxNTA0NjU4MDg5MzYz.k_xvYKxGAe4D_fCtiMGCX-PLesGOkLUVM7HFrvGT5EQg.m1ipd6amBQKk1inByv0mpl-8lrww11uuyAgxoa8Wfd0g.JPEG.oasisman8%2F1.jpg&type=sc960_832') no-repeat center center fixed;
        background-size: cover;
        margin: 0;
    }
    body::before {
        content: '';
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.3);
        z-index: -1;
    }
    h1 {
        margin: 15px;
        font-size: 1.8rem;
        color: #fff;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
    }
    .score {
        font-size: 1.2rem;
        margin-bottom: 15px;
        color: #fff;
    }
    .puzzle-container {
        display: grid;
        grid-template-columns: repeat(17, minmax(18px, 1fr));
        gap: 2px;
        justify-content: center;
        margin: 10px auto;
        width: 95vw;
        max-width: 680px;
    }
    .cell {
        border: 1px solid #444;
        position: relative;
        background: #b0b0b0;
        border-radius: 4px;
        aspect-ratio: 1/1;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .white input {
        width: 100%;
        height: 100%;
        text-align: center;
        font-size: 1em;
        font-weight: bold;
        border: none;
        outline: none;
        background: transparent;
        color: #000;
    }
    .white {background: #fff;}
    .green {background: #4CAF50 !important;}
    .green input {background: #4CAF50; color: #fff; font-weight: bold;}
    .number {
        position: absolute;
        top: 2px;
        left: 3px;
        font-size: 0.6em;
        color: #000;
        font-weight: bold;
    }
</style>
</head>
<body>
<h1>5학년 1학기 과학 가로세로 퍼즐</h1>
<div class="score">점수: <span id="score">0</span></div>
<div id="puzzle" class="puzzle-container"></div>

<script>
const pattern = [
"oxoxoxxxxooooooxx","oxoxooooxxoxxoxox","xxoxoxoxooxxoxoox","xooooxxxoxxxoxxxx",
"ooxxxxoxoxoooxoox","xxooxxoxoxoxoxxxo","xoxxoooxxoxxoooxo","ooxxxxxxooxoxxxxo",
"xxxxoooxxoxooxoox","xooxoxxxxoxoxxxxx","ooxxoxooxoxxoooox","xoxxoxoxoxxxoxoxo",
"xooooooxoxxxoxoxo","xoxxoxoxooxxxxxxx","xxxxxxoxxxoxxooxx","ooooxoxxoxoxxxoxx",
"xxoxooxooxxoxxoxx","xxoxxxxxxooooxoxx","xxxxxoooxoxoxxoxx","ooooooxxxxooxxxxx",
"xoxxxoxoooxxxxxxx","xoooxoxxxxxxxxxxx","xxxxxoxxxxxxxxxxx"
];

// ✅ 번호 좌표
const coords = [
[1,1,1],[2,1,3],[3,4,2],[4,5,1],[5,1,5],[6,2,5],[7,2,7],[8,1,10],[9,1,11],
[10,3,9],[11,3,13],[12,5,11],[13,7,13],[14,2,16],[15,3,15],[16,5,15],[17,6,17],
[18,9,15],[19,8,12],[20,9,12],[21,7,10],[22,8,9],[23,9,5],[24,10,2],[25,11,1],
[26,13,2],[27,11,7],[28,6,3],[29,7,2],[30,8,1],[31,5,7],[32,7,5],[33,12,9],
[34,14,9],[35,15,11],[36,11,13],[37,11,15],[38,12,17],[39,15,14],[40,15,15],
[41,17,12],[42,18,10],[43,20,11],[44,21,8],[45,20,1],[46,20,2],[47,22,2],
[48,19,6],[49,16,3],[50,16,1],[51,16,6],[52,17,5],[53,16,9],[54,17,8],[55,1,14]
];

// ✅ 정답 (좌표 기반, 가로+세로)
const answers = {
"0-0":"탐","0-2":"원","0-4":"접","0-9":"카","0-10":"시","0-11":"오","0-12":"페","0-13":"이","0-14":"아",
"1-0":"구","1-2":"생","1-4":"안","1-5":"전","1-6":"수","1-7":"칙","1-10":"간","1-13":"동","1-15":"위",
"2-2":"생","2-4":"렌","2-6":"온","2-8":"포","2-9":"자","2-12":"태","2-14":"목","2-15":"성",
"3-1":"대","3-2":"물","3-3":"렌","3-4":"즈","3-8":"스","3-12":"양",
"4-0":"균","4-1":"류","4-6":"북","4-8":"트","4-10":"태","4-11":"양","4-12":"계","4-14":"세","4-15":"포",
"5-2":"용","5-3":"질","5-6":"극","5-8":"잇","5-10":"양","5-12":"와","5-16":"적",
"6-1":"금","6-4":"소","6-5":"행","6-6":"성","6-9":"실","6-12":"별","6-13":"자","6-14":"리","6-16":"외",
"7-0":"수","7-1":"성","7-8":"천","7-9":"체","7-11":"회","7-16":"선",
"8-4":"열","8-5":"변","8-6":"색","8-9":"현","8-11":"전","8-12":"도","8-14":"온","8-15":"도",
"9-1":"용","9-2":"매","9-4":"화","9-9":"미","9-11":"판",
"10-0":"용","10-1":"해","10-4":"상","10-6":"생","10-7":"물","10-9":"경","10-12":"자","10-13":"료","10-14":"해","10-15":"석",
"11-1":"와","11-4":"사","11-6":"딸","11-9":"빠","11-12":"물","11-14":"왕","11-16":"공",
"12-1":"용","12-2":"액","12-3":"의","12-4":"진","12-5":"하","12-6":"기","12-8":"르","12-12":"쇠","12-14":"성","12-16":"기",
"13-1":"액","13-4":"기","13-6":"주","13-8":"기","13-9":"록",
"14-6":"스","14-7":"가","14-13":"주","14-14":"작",
"15-0":"문","15-1":"제","15-2":"인","15-3":"식","15-5":"행","15-8":"체","15-10":"설","15-14":"은",
"16-2":"내","16-4":"토","16-5":"성","16-7":"기","16-8":"온","16-11":"온","16-14":"곰",
"17-2":"심","17-9":"결","17-10":"론","17-11":"도","17-12":"출","17-14":"자",
"18-5":"광","18-6":"합","18-7":"성","18-9":"론","18-11":"와","18-14":"리",
"19-0":"첨","19-1":"단","19-2":"생","19-3":"명","19-4":"과","19-5":"학","19-10":"단","19-11":"열",
"20-5":"현","20-7":"쓰","20-8":"임","20-9":"새",
"21-1":"재","21-2":"물","21-3":"대","21-5":"미",
"22-5":"경"
};

const puzzle=document.getElementById('puzzle');

// ✅ 퍼즐 그리기
for(let r=0;r<23;r++){
    for(let c=0;c<17;c++){
        const cell=document.createElement('div');
        cell.classList.add('cell');
        if(pattern[r][c]==='o'){
            cell.classList.add('white');
            const input=document.createElement('input');
            input.maxLength=1;
            input.dataset.row=r;
            input.dataset.col=c;
            cell.appendChild(input);
        }
        puzzle.appendChild(cell);
    }
}

// ✅ 번호 표시
coords.forEach(([num,row,col])=>{
    const idx=(row-1)*17+(col-1);
    const cell=puzzle.children[idx];
    if(cell && cell.classList.contains('white')){
        const span=document.createElement('span');
        span.classList.add('number');span.textContent=num;
        cell.appendChild(span);
    }
});

let score=0;

// ✅ 체크 로직 (IME 대응)
function checkLetter(input){
    const key=`${input.dataset.row}-${input.dataset.col}`;
    const val=input.value.trim();
    if(answers[key] && val===answers[key] && !input.parentElement.classList.contains('green')){
        input.parentElement.classList.add('green');
        score+=10;
        document.getElementById('score').textContent=score;
    }
}
document.querySelectorAll('input').forEach(el=>{
    el.addEventListener('input',()=>setTimeout(()=>checkLetter(el),0));
});
</script>
</body>
</html>